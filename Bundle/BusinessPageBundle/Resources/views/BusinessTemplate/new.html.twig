{% form_theme form 'VictoireFormBundle:Form:fields.html.twig' %}

{% trans_default_domain "victoire" %}

{% extends 'VictoireCoreBundle::_modal.html.twig' %}

{% block modal_container_classes %}{{ parent() }} vic-view-modal{% endblock modal_container_classes %}
{% block modal_header_title %}{{ 'business_template.creation.title'|trans }}{% endblock modal_header_title %}

{% block modal_body_content %}

    {{ form_start(form) }}
    <div class="vic-row">
        <div class="vic-col-xs-12">
            {{ form_row(form.name) }}
            {{ 'victoire.form.business_template.name.vic_help_block'|trans|raw }}
        </div>
    </div>
    <div class="vic-row">
        <div class="{% if form.parent is defined and form.parent and form.slug is defined %}vic-col-xs-12 vic-col-sm-12 vic-col-md-6 vic-well{% else %}vic-col-xs-12 vic-col-sm-12 vic-col-md-6{% endif %}">
            {% if form.parent is defined and form.parent %}
            <div class="vic-col-xs-12 vic-col-sm-6 vic-col-md-6">
                {{ form_row(form.parent) }}
            </div>
            {% endif %}
            {% if form.slug is defined %}
            <div class="vic-col-xs-12 {% if form.parent is defined and form.parent %}vic-col-sm-6 vic-col-md-6{% else %}vic-col-sm-12 vic-col-md-12{% endif %}">
                {{ form_row(form.slug) }}
                {{ 'victoire.form.business_template.slug.vic_help_block'|trans|raw }}
                {% include 'VictoireBusinessEntityBundle:BusinessProperty:list.html.twig' with { 'businessProperties':businessProperties } %}
            </div>
            {% endif %}
        </div>
        <div class="vic-col-sm-6 vic-col-md-6">
            {{ form_row(form.template) }}
        </div>
        <div class="vic-col-sm-6 vic-col-md-6">
            {% if form.locale is defined %}
            {{ form_row(form.locale) }}
            {% endif %}

        </div>
    </div>
    <div class="vic-row">
        <div class="vic-col-md-12">
            {{ 'victoire.form.business_template.query.vic_help_block'|trans|raw }}
            {{ form_row(form.query) }}
            <div class="form-group">
                {{ form_row(form.authorRestricted) }}
            </div>
            {{ form_rest(form) }}
        </div>
    </div>
    {{ form_end(form) }}
</ul>
{% endblock modal_body_content %}

{% block modal_footer_content %}
    <a href="#" class="vic-btn vic-btn-success" data-modal="{% block action %}create{% endblock action %}" title="{{ ('modal.button.'~ block('action') ~'.title')|trans({}, 'victoire') }}"><i class="fa fa-check-circle"></i> {{ ('modal.button.'~ block('action') ~'.title')|trans({}, 'victoire') }}</a>
{% endblock modal_footer_content %}
