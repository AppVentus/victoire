<?php

namespace Victoire\Bundle\I18nBundle\Entity;

use Doctrine\ORM\Mapping as ORM;
use \Victoire\Bundle\CoreBundle\Entity\View;
use Victoire\Bundle\WidgetBundle\Entity\Widget;

/**
 * I18n
 *
 * @ORM\Entity
 * @ORM\Table("vic_view_i18n")
 */
class I18n
{
    /**
     * @var integer
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id;

    /**
     * Get id
     *
     * @return integer
     */
    public function getId()
    {
        return $this->id;
    }

{% for locale in locales %}
    /**
     * @ORM\OneToOne(targetEntity="View")
     * @ORM\JoinColumn(name="{{locale}}_id", referencedColumnName="id")
     */
    protected ${{ locale }};
    
{% endfor %}
{% for locale in locales %}
    
    /**
    * function set{{ locale|capitalize }}
    * @param View ${{ locale}} 
    */
    public function set{{ locale|capitalize }}(View ${{ locale }})
    {
        $this->{{ locale }} = ${{ locale}};
    }

    /**
    * @return View 
    */
    public function get{{ locale|capitalize }}()
    {
        return $this->{{ locale }};
    }
{% endfor %}

    /**
    * @return View
    */
	public function getTranslation($locale) 
	{
		return call_user_func("get".ucfirst($locale));
	}

    /**
    * @param string $locale
    * @param View $view
    */
	public function setTranslation($locale, View $view) 
	{
		return call_user_func("set".ucfirst($locale), $view);
	}

}
